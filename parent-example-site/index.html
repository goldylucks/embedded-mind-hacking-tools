<html>
<title>Embedding tool test</title>
<style>
  .iframe-container {
    max-width: 600px;
    margin: 40px auto;
  }

  iframe {
    width: 100%;
    height: 100%;
  }
</style>

<body>
  <h1>Embedding tool test</h1>
  <div>
    <button onclick="messageTool(JSON.stringify({ someOption: 'some value' }))">Send message to tool</button>
  </div>
  <div class="iframe-container">
    <iframe id="iframe" src="http://localhost:3000/tool/mark-b4b-rewind" frameborder="0"></iframe>
  </div>
</body>
<script>
  const iframeEl = document.getElementById('iframe')
  window.addEventListener("message", this.onMessage.bind(this));

  function messageTool(msg) {
    iframeEl.contentWindow.postMessage(msg, '*')
  }

  function onMessage(evt) {
    console.log("[MESSAGE FROM TOOL IFRAME]", evt.data, evt);
  }
</script>

</html>